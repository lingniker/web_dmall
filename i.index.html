<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style>
        *{
            margin: 0px;
            padding: 0px;
            box-sizing: border-box;
        }
        ul{
            list-style: none;
        }
        .nav{
            position:absolute;
        }
        .view-home{
            width: 100%;
        }
        .home-nav{
            position:fixed;
            width: 100%;            
            height: 70px;
            background: #fff;
            border-bottom: 1px solid lightgray;
        }
        .active{
            border-bottom: 2px solid #ff8143;
        }
        .home-nav-li{
            text-align: center;
            float: left;
            color:#ff8143;
            /* width: 90px; */
            line-height: 28px;
            padding: 10px 0px 0px 0px;
            font-size: 14px;
        }
        .home-nav-ul{            
            height: 40px;
            padding: 0px 0px 10px 20px;
        }
        .head-nav{
            height: 75px;
            background: #fff;
            /* padding-top: 5px; */
        }
        .content{
            width: 750px;
            margin: auto;
            height: 750px;
        }
        .content-bg{
            width: 100%;
            background: url("./images/content.png");
            height: 1334px;          
        }
        .select-input{
            height: 30px;
            width: 100%;
            background: #fff;
        }
        .input-select{
            height: 30px;
            width: 100%;
            font-size: 14px;
            padding-left: 18px;
            line-height: 45px;
            color: #666;
        }
        .query{
            float: right;
            width: 30px;
            height: 30px;
            background: url(./images/bill-icon.png) no-repeat -5px -65px;
            margin: 10px 10px 0px 0px;
            background-size: 500px 750px;
        }
        .address{
         position: absolute;
         cursor: pointer;
         background: #fff;
        }
        .footer a{
            text-decoration: none;
            display: inline-block;
            color: rgba(0, 0, 0, 0.28);
        }
        .footer{
            width: 100%;
            height: 45px;
            position: fixed;
            background: #fff;
            border-top:0.5px solid lightgray;
            bottom: 0;
        }
        .footer ul {
            list-style: none;
            width: 100%;
            height: 45px;
        }
        .footer ul li{
            width: 25%;
            height: 45px;
            float: left;
            text-align: center;
            font-size: 14px;
            line-height: 10px;
            font-weight: 400;
        }
        .home-img1{
            background-image: url("images/footerimg.png") ;
            background-repeat: no-repeat;
            background-position: 0px -50px;
            background-size: 250px 100px;
            width: 30px;
            height: 30px;
        }
        .home-img2{
            background-image: url("images/footerimg.png") ;
            background-repeat: no-repeat;
            background-position: -50px 0px;
            background-size: 250px 100px;
            width: 30px;
            height: 30px;
        }
        .home-img3{
            background-image: url("images/footerimg.png") ;
            background-repeat: no-repeat;
            background-position: -100px 0px;
            background-size: 250px 100px;
            width: 30px;
            height: 30px;
        }
        .home-img4{
            background-image: url("images/footerimg.png") ;
            background-repeat: no-repeat;
            background-position: -150px 0px;
            background-size: 250px 100px;
            width: 30px;
            height: 30px;
        }
        .home-img5{
            background-image: url("images/footerimg.png") ;
            background-repeat: no-repeat;
            background-position: -200px 0px;
            background-size: 250px 100px;
            width: 30px;
            height: 30px;
        }
        .position1 a{
            color:#ff712b ;
        }

        /* @media screen andmax-width: ;{
            
        } */
        @media screen and (max-width: 750px) {
            .content{
                 width: 100%;
            }
            .content-bg{
                width: 100%;
            }
        } 
    </style>
</head>
<body>
    <div class="view-home">
        <div class="head-nav">
        <div class="home-nav">
            <div class="input-select"><div class="address" id="address">不支持地理位置服务</div><div class="query"></div></div>
            <ul class="home-nav-ul">
                <li class="home-nav-li active">联家超市</li>
            </ul>
        </div>
        </div>
        <div class="content">
            <div class="content-bg">
            </div>
        </div>
    </div>
    <div class="footer">
            <ul>
                <li class="position1"><a href="./i.index.html"><div class="home-img1"></div><div>首页</div></a></li>
                <li class="position2"><a href="./i.order.html"><div class="home-img2"></div><div>订单</div></a></li>
                <li class="position4"><a href="#"><div class="home-img4"></div><div>购物车</div></a></li>
                <li class="position5"><a href="./i.user.html"><div class="home-img5"></div><div>我的</div></a></li>       
            </ul>
        </div>
</body>
<script type="text/javascript" src="http://api.map.baidu.com/api?v=3.0&ak=65zdgImABAZoTaGRybwPLvYagLIUQ5dz"></script>  
<script type="text/javascript" src="http://developer.baidu.com/map/jsdemo/demo/convertor.js"></script>  
<script type="text/javascript">

    var map;  
    var gpsPoint;  
    var baiduPoint;  
    var gpsAddress;  
    var baiduAddress;  

    function getLocation() {
        //根据IP获取城市  
        var myCity = new BMap.LocalCity();
        // console.log(myCity);
        myCity.get(getCityByIP);  

        //获取GPS坐标
        alert(navigator.geolocation);
        if (navigator.geolocation) {
            navigator.geolocation.getCurrentPosition(showMap, handleError, { enableHighAccuracy: true, maximumAge: 1000 });  
        } else { 
            alert("您的浏览器不支持使用HTML 5来获取地理位置服务");  
        }  
    }  
    
    function showMap(value) {  
        var longitude = value.coords.longitude;  
        var latitude = value.coords.latitude;  
        map = new BMap.Map("address");  
        //alert("坐标经度为：" + latitude + "， 纬度为：" + longitude );  
        baiduPoint = new BMap.Point(longitude, latitude);    // 创建点坐标  
        map.centerAndZoom(baiduPoint, 15);  

        //根据坐标逆解析地址  

        var geoc = new BMap.Geocoder();  
        geoc.getLocation(baiduPoint, getCityByBaiduCoordinate);   

    }

    function getCityByBaiduCoordinate(rs) {
        baiduAddress = rs.addressComponents;
        console.log("送至："+  baiduAddress.province + "," + baiduAddress.city + "," + baiduAddress.district + "," + baiduAddress.street + "," + baiduAddress.streetNumber);
        document.getElementById("address").innerHTML = "送至："+  baiduAddress.province + "," + baiduAddress.city + "," + baiduAddress.district + "," + baiduAddress.street + "," + baiduAddress.streetNumber;
        document.getElementById("address").style.cssText="background:#fff";
    }  

    //根据IP获取城市  
    function getCityByIP(rs){
        var cityName = rs.name;
        // console.log(rs);
        // alert("根据IP定位您所在的城市为:" + cityName);
    }  

    function handleError(value) { 
        switch (value.code) {  
            case 1:  
                document.getElementById("address").innerHTML = "位置服务被拒绝";  
                break;  
            case 2:  
                document.getElementById("address").innerHTML = "暂时获取不到位置信息";  
                break;  
            case 3:  
                document.getElementById("address").innerHTML = "获取信息超时";  
                break;  
            case 4:  
                document.getElementById("address").innerHTML = "未知错误";  
                break;  
        }  
    }  

    function init() {
        getLocation();  
    }  

    window.onload = init;  
</script> 
</html>